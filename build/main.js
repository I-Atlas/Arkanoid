!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t),i.d(t,"startNewGame",(function(){return b}));var n=function(e){e<Math.PI/6?e=Math.PI/6:e>5*Math.PI/6&&(e=5*Math.PI/6),c.speedX=c.speed*Math.cos(e),c.speedY=-c.speed*Math.sin(e)};var r=function(e){switch(e){case f.left:paddle.speedX=-paddle.speed;break;case f.right:paddle.speedX=paddle.speed;break;case f.stop:paddle.speedX=0}};function a(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,d=!0,l=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return d=e.done,e},e:function(e){l=!0,a=e},f:function(){try{d||null==i.return||i.return()}finally{if(l)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function d(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(){var t,i,r,a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(e){var t;a.lastTime||(a.lastTime=e),a.deltaTime=.001*(e-a.lastTime),a.lastTime=e,t=a.deltaTime,paddle.x+=paddle.speedX*t,paddle.x<void 0+.5*paddle.width?paddle.x=void 0+.5*paddle.width:paddle.x>NaN-.5*paddle.width&&(paddle.x=NaN-.5*paddle.width),function(e){if(c.x+=c.speedX*e,c.y+=c.speedY*e,c.x<void 0+.5*c.width?(c.x=void 0+.5*c.width,c.speedX=-c.speedX):c.x>NaN-.5*c.width?(c.x=NaN-.5*c.width,c.speedX=-c.speedX):c.y<void 0+.5*c.height&&(c.y=void 0+.5*c.height,c.speedY=-c.speedY),c.y>h.y-.5*h.height-.5*c.height&&c.y<h.y&&c.x>h.x-.5*h.width-.5*c.width&&c.x<h.x+.5*h.width+.5*c.width){c.y=h.y-.5*h.height-.5*c.height,c.speedY=-c.speedY;var t=Math.atan2(-c.speedY,c.speedX);t+=(Math.random()*Math.PI/2-Math.PI/4)*s.BALL_SPIN,n(t)}c.y>void 0&&b(),0==c.speedY&&(c.x=h.x)}(a.deltaTime),a.drawBackground(),a.drawSides(),a.drawBall(),a.drawPaddle(),a.drawBricks(),requestAnimationFrame(a.drawGame)},(i="drawGame")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,this.backgroundColor="rgb(0, 0, 0)",this.sideColor="rgb(94, 94, 94)",this.ballColor="rgb(255, 255, 255)",this.paddleColor="rgb(255, 255, 255)",this.deltaTime,this.lastTime}var t,i,r;return t=e,(i=[{key:"drawBackground",value:function(){p.fillStyle=this.backgroundColor,p.fillRect(0,0,void 0,void 0)}},{key:"drawSides",value:function(){p.strokeStyle=this.sideColor,p.beginPath(),p.moveTo(NaN,void 0),p.lineTo(NaN,NaN),p.lineTo(NaN,NaN),p.lineTo(NaN,void 0),p.stroke()}},{key:"drawBall",value:function(){p.fillStyle=this.ballColor,p.fillRect(c.x-.5*c.width,c.y-.5*c.height,c.width,c.height)}},{key:"drawPaddle",value:function(){p.fillStyle=this.paddleColor,p.fillRect(h.x-.5*h.width,h.y-.5*h.height,h.width,h.height)}},{key:"drawBricks",value:function(){var e,t=a(w);try{for(t.s();!(e=t.n()).done;){var i,n=a(e.value);try{for(n.s();!(i=n.n()).done;){var r=i.value;p.fillStyle=r.color,p.fillRect(r.left,r.top,r.width,r.height)}}catch(e){n.e(e)}finally{n.f()}}}catch(e){t.e(e)}finally{t.f()}}}])&&d(t.prototype,i),r&&d(t,r),e}();var s={SIDE:.03,BALL_SPEED:.6,BALL_SPIN:.2,PADDLE_SPEED:.6,PADDLE_WIDTH:.1,BRICK_ROWS:8,BRICK_COLUMN:9,BRICK_GAP:.3,BRICK_MARGIN:6,GAME_LEVEL:10},h=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.width=void 0*s.PADDLE_WIDTH,this.height=void 0,this.x=NaN,this.y=void 0-3*this.height,this.speed=void 0*s.PADDLE_SPEED,this.speedX=0},c=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.width=NaN,this.height=NaN,this.x=h.x,this.y=h.y-h.height/2-this.height/2,this.speed=void 0*s.BALL_SPEED,this.speedX=0,this.speedY=0},u=new l,f=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.left=0,this.right=1,this.stop=2,document.addEventListener("keydown",(function(e){switch(e.keyCode){case 32:!function(){if(0!=c.speedY)return!1;var e=Math.random()*Math.PI/2+Math.PI/3;n(e)}();break;case 37:r(t.left);break;case 39:r(t.right)}})),document.addEventListener("keyup",(function(e){switch(e.keyCode){case 37:case 39:r(t.stop)}}))},p=canvas.getContext("2d"),w=[];var v=function e(t,i,n,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.width=n,this.height=r,this.bottom=i+r,this.left=t,this.right=t+n,this.top=i,this.color=a},y=document.getElementById("arkanoid"),g=function(){height=window.innerHeight,width=window.innerWidth,side=s.SIDE*(height<width?height:width),y.width=width,y.height=height,p.lineWidth=side,b()};window.addEventListener("resize",g);var b=function(){paddle=new Paddle,ball=new Ball,level=0,function(){var e=(c.y-3.5*c.height-void 0)/(s.BRICK_MARGIN+s.BRICK_ROWS+s.GAME_LEVEL),t=void 0*s.BRICK_GAP,i=e-t,n=(NaN-t)/s.BRICK_COLUMN,r=n-t;bricks=[];for(var a,o,d=s.BRICK_COLUMN,l=s.BRICK_ROWS+2*level,h=0;h<l;h++){bricks[h]=[],"rgb(252, 155, 55)",o=void 0+(s.BRICK_MARGIN+h)*e;for(var u=0;u<d;u++)a=void 0+t+u*n,bricks[h][u]=new v(a,o,r,i,"rgb(252, 155, 55)")}}()};requestAnimationFrame(u.drawGame),g()}]);
//# sourceMappingURL=main.js.map